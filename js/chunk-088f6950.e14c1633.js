(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088f6950"],{1512:function(t,s,e){"use strict";var n=e("b650"),i=e.n(n);i.a},"1c24":function(t,s,e){},"28d7":function(t,s,e){},"37c0":function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dialog",style:{display:t.isOpen?"flex":"none"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"close",on:{click:function(s){return t.$emit("close")}}},[e("div",{staticClass:"close-icon"})]),t._t("default")],2)])},i=[],a={props:{isOpen:Boolean}},r=a,o=(e("cb88"),e("0c7c")),c=Object(o["a"])(r,n,i,!1,null,"f2e0508a",null);s["a"]=c.exports},"3f34":function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"frame"},["lantern"===t.styles?e("btn-animation",{staticClass:"btn-animation"}):t._e(),"belt"===t.styles?e("belt-animation",{staticClass:"belt-animation"}):t._e(),e("v-bubble-animation",{staticClass:"v-bubble-animation"}),"bubble"===t.styles?e("h-bubble-animation",{staticClass:"h-bubble-animation"}):t._e(),e("div",{class:{bg:!0,lantern:"lantern"===t.styles,belt:"belt"===t.styles,bubble:"bubble"===t.styles}},[e("div",{staticClass:"wrapper"},[t._t("default")],2)])],1)},i=[],a=e("59bb"),r=e("de01"),o=e("1d35"),c=e("0e4b"),u={props:{styles:String},components:{BtnAnimation:a["a"],VBubbleAnimation:r["a"],BeltAnimation:o["a"],HBubbleAnimation:c["a"]}},l=u,h=(e("7db1"),e("0c7c")),v=Object(h["a"])(l,n,i,!1,null,"6523d1b2",null);s["a"]=v.exports},"7db1":function(t,s,e){"use strict";var n=e("1c24"),i=e.n(n);i.a},"94df":function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"scroll-wrapper"},[e("div",{staticClass:"scroll-overflow"},[t._t("default")],2)])},i=[],a=(e("ee1e"),e("0c7c")),r={},o=Object(a["a"])(r,n,i,!1,null,"35c4b72c",null);s["a"]=o.exports},b15b:function(t,s,e){},b650:function(t,s,e){},cb88:function(t,s,e){"use strict";var n=e("b15b"),i=e.n(n);i.a},ee1e:function(t,s,e){"use strict";var n=e("28d7"),i=e.n(n);i.a},f696:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Track",{staticClass:"left-track"}),e("Track",{staticClass:"right-track"}),e("QRcode"),e("Dialog",{staticClass:"dialog",attrs:{isOpen:t.isOpen},on:{close:function(s){return t.onClose()}}},[Object.keys(this.question).length?e("scroll-bar",{staticClass:"content"},[e("div",{staticClass:"question"},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.question.author.avatar+")"}}),e("div",{staticClass:"con-wrapper"},[e("div",{staticClass:"name"},[t._v("\n            "+t._s(t.question.author.name)+"\n            "),e("div",{staticClass:"createdAt"},[t._v(t._s(t.question.createdAt))])]),e("div",{staticClass:"con"},[t._v(t._s(t.question.content))]),e("div",{staticClass:"foot"},[e("div",{staticClass:"talk"},[t._v(t._s(t.question.answersCount)+" 评论")])])])]),t.answers.length?e("div",{staticClass:"answer-wrapper"},t._l(t.answers,function(s){return e("div",{key:s.id,staticClass:"answer"},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+s.author.avatar+")"}}),e("div",{staticClass:"con-wrapper"},[e("div",{staticClass:"name"},[t._v("\n              "+t._s(s.author.name)+"\n              "),e("div",{staticClass:"createdAt"},[t._v(t._s(s.createdAt))])]),e("div",{staticClass:"con"},[t._v(t._s(s.content))]),e("div",{staticClass:"foot"},[e("div",{staticClass:"approval"},[t._v("赞 "+t._s(s.approvalNum))]),e("div",{staticClass:"oppose"},[t._v("踩 "+t._s(s.opposeNum))])])])])}),0):t._e()]):t._e()],1),e("Frame",{attrs:{styles:"belt"}},[e("scroll-bar",{staticClass:"scroll-bar"},[e("div",{staticClass:"tit-bg"}),e("div",{staticClass:"contents"},[e("div",{staticClass:"title-wrapper"},t._l(t.titles,function(s,n){return e("div",{key:n,class:{title:!0,active:s===t.activeTitle},on:{click:function(e){return t.changeTitle(s)}}},[t._v(t._s(s)),e("div",{staticClass:"dec"})])}),0),t.questions.length||t.isError?t._e():e("div",{staticClass:"loading"},[t._v("Loading...")]),t.isError?e("div",{staticClass:"loading"},[t._v("请等下再尝试")]):t._e(),t.questions.length&&!t.isError?e("div",{staticClass:"question-wrapper"},[t._l(t.questions.slice(4*(t.page-1),4*t.page),function(s){return e("div",{key:s.id,staticClass:"question"},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+s.author.avatar+")"}}),e("div",{staticClass:"con-wrapper"},[e("div",{staticClass:"name"},[t._v("\n                "+t._s(s.author.name)+"\n                "),e("div",{staticClass:"createdAt"},[t._v(t._s(s.createdAt))])]),e("div",{staticClass:"con"},[t._v(t._s(s.content))]),e("div",{staticClass:"foot"},[e("div",{staticClass:"talk"},[t._v(t._s(s.answersCount)+" 评论")]),e("button",{staticClass:"check",on:{click:function(e){return t.open(s)}}},[t._v("查看")])])])])}),e("div",{staticClass:"pagination"},[e("div",{staticClass:"left btn",on:{click:function(s){return t.goPrev()}}}),t._l(Math.floor(t.questions.length/4),function(s,n){return e("div",{key:n,on:{click:function(e){return t.changePage(s)}}},[t.show(n)?e("div",{class:{page:!0,active:s===t.page}},[t._v("\n                "+t._s(s)+"\n              ")]):t._e()])}),e("div",{staticClass:"right btn",on:{click:function(s){return t.goNext()}}})],2),e("div",{staticClass:"look"},[t._v("关注重邮小帮手公众号，即可参与提问，并查看带有图片的提问和回答。")])],2):t._e()])])],1)],1)},i=[],a=e("a34a"),r=e.n(a),o=e("3f34"),c=e("94df"),u=e("793f"),l=e("cf7a"),h=e("37c0");function v(t){return p(t)||d(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var s=0,e=new Array(t.length);s<t.length;s++)e[s]=t[s];return e}}function g(t,s,e,n,i,a,r){try{var o=t[a](r),c=o.value}catch(u){return void e(u)}o.done?s(c):Promise.resolve(c).then(n,i)}function b(t){return function(){var s=this,e=arguments;return new Promise(function(n,i){var a=t.apply(s,e);function r(t){g(a,n,i,r,o,"next",t)}function o(t){g(a,n,i,r,o,"throw",t)}r(void 0)})}}var w="https://wx.idsbllp.cn/234/seniorhelpme/question",C={components:{Frame:o["a"],ScrollBar:c["a"],Track:u["a"],QRcode:l["a"],Dialog:h["a"]},data:function(){return{activeTitle:"最热问题",isError:!1,page:1,hotDataPage:1,newDataPage:1,titles:["最热问题","最新问题"],hotQuestions:[],newQuestions:[],questions:[],question:{},answers:[],isOpen:!1,isHotEnd:!1,isNewEnd:!1}},methods:{show:function(t){return t<=this.page+1&&t>=this.page-3||(this.page<=2&&t<5||this.page>=Math.floor(this.questions.length/4)-2&&t>=Math.floor(this.questions.length/4)-5)},changeTitle:function(){var t=b(r.a.mark(function t(s){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.activeTitle=s,"最新问题"===s&&(this.questions=this.newQuestions),"最热问题"===s&&(this.questions=this.hotQuestions),this.page=1;case 4:case"end":return t.stop()}},t,this)}));function s(s){return t.apply(this,arguments)}return s}(),getQuestions:function(){var t=b(r.a.mark(function t(s){var e,n,i=arguments;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>1&&void 0!==i[1]&&i[1],t.next=3,fetch("".concat(w,"?pageNo=").concat(s).concat(e?"&sortby=new":"")).then(function(t){return t.json()});case 3:return n=t.sent,t.abrupt("return",n.filter(function(t){return 0===t.photoUrls.length}));case 5:case"end":return t.stop()}},t)}));function s(s){return t.apply(this,arguments)}return s}(),changePage:function(t){var s=t-this.page;if(s>0)for(;s>0;s-=1)this.goNext();if(s<0)for(;s<0;s+=1)this.goPrev()},goPrev:function(){this.page>1&&(this.page-=1)},goNext:function(){var t=b(r.a.mark(function t(){var s,e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.page<Math.floor(this.questions.length/4))){t.next=12;break}if(this.page+=1,this.isHotEnd||"最热问题"!==this.activeTitle||this.hotDataPage!==this.page){t.next=7;break}return t.next=5,this.getQuestions(this.hotDataPage+=1);case 5:s=t.sent,s.length?(this.hotQuestions=[].concat(v(this.hotQuestions),v(s)),this.questions=this.hotQuestions):this.isHotEnd=!0;case 7:if(this.isNewEnd||"最新问题"!==this.activeTitle||this.newDataPage!==this.page){t.next=12;break}return t.next=10,this.getQuestions(this.newDataPage+=1,!0);case 10:e=t.sent,e.length?(this.newQuestions=[].concat(v(this.hotQuestions),v(e)),this.questions=this.newQuestions):this.isNewEnd=!0;case 12:case"end":return t.stop()}},t,this)}));function s(){return t.apply(this,arguments)}return s}(),open:function(){var t=b(r.a.mark(function t(s){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isOpen=!0,this.question=s,this.questionId=s.id,t.next=5,fetch("".concat(w,"/id?id=").concat(this.questionId)).then(function(t){return t.json()});case 5:e=t.sent,this.answers=e.answer;case 7:case"end":return t.stop()}},t,this)}));function s(s){return t.apply(this,arguments)}return s}(),onClose:function(){this.isOpen=!1,this.answers=[]}},mounted:function(){var t=b(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([this.getQuestions(1),this.getQuestions(2),this.getQuestions(3),this.getQuestions(4),this.getQuestions(5)]).then(function(t){return t.flat()});case 3:return this.hotQuestions=t.sent,t.next=6,Promise.all([this.getQuestions(1,!0),this.getQuestions(2,!0),this.getQuestions(3,!0),this.getQuestions(4,!0),this.getQuestions(5,!0)]).then(function(t){return t.flat()});case 6:this.newQuestions=t.sent,this.newDataPage=5,this.hotDataPage=5,this.questions=this.hotQuestions,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.isError=!0;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));function s(){return t.apply(this,arguments)}return s}()},_=C,m=(e("1512"),e("0c7c")),k=Object(m["a"])(_,n,i,!1,null,"3e189eb6",null);s["default"]=k.exports}}]);
//# sourceMappingURL=chunk-088f6950.e14c1633.js.map